# AI-PROMPTS.md

이 문서는 WWAI-03-SOP 프로젝트 수정 시 사용할 검증된 AI 프롬프트 템플릿 모음입니다.

복사해서 사용하되, `[괄호]` 안의 내용은 실제 값으로 교체하세요.

---

## 📋 프롬프트 사용 전 체크리스트

- [ ] 필요한 Context 파일들을 AI에게 제공했는가?
  - 최소: `@CLAUDE.md`
  - 권장: `@CHANGE-COMPLEXITY-MATRIX.md`
  - 필수: 수정할 파일 (`@파일경로`)
- [ ] 수정 전 Git commit으로 백업했는가?
- [ ] 어떤 문제를 해결하려는지 명확한가?
- [ ] 예상되는 결과가 무엇인지 알고 있는가?

---

## 1️⃣ 복잡도 평가 프롬프트

### 🎯 용도
수정 작업을 시작하기 전 난이도를 AI에게 평가받을 때 사용

### 📝 프롬프트 템플릿

```
[Context 파일들]
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md
@PROJECT-CONSTRAINTS.md
@[수정할_파일.py]

안녕! 나는 비개발자인데 이 프로젝트를 수정하고 싶어.
아래 수정 요청의 복잡도를 평가해줘.

[수정 요청]
[구체적으로 무엇을 어떻게 바꾸고 싶은지 설명]

예시:
- API 대기 타임아웃을 60초에서 90초로 늘리고 싶어
- 버튼 클래스명이 .old-btn에서 .new-btn으로 바뀌어서 코드를 수정하고 싶어
- BR 사이트는 필터 검증을 스킵하도록 조건을 추가하고 싶어

[평가 요청]
다음 형식으로 답변해줘:

1. **복잡도**: 🟢 LOW / 🟡 MEDIUM / 🔴 HIGH
2. **판단 근거**: [왜 그렇게 판단했는지 2-3문장]
3. **수정할 파일**: [파일명 및 예상 라인]
4. **예상 소요 시간**: [시간]
5. **위험 요소**: [있다면 설명, 없으면 "없음"]
6. **권장 사항**:
   - ✅ 비개발자 직접 진행 가능
   - ⚠️ AI 가이드로 진행 후 개발자 리뷰 필요
   - ❌ 개발자 필수

[만약 ✅ 또는 ⚠️라면]
7. **다음 단계**: [구체적인 실행 계획]
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md
@01.smartThings/smartThings_main.py

안녕! 나는 비개발자인데 이 프로젝트를 수정하고 싶어.
아래 수정 요청의 복잡도를 평가해줘.

[수정 요청]
API 응답을 기다리는 시간이 60초인데, 네트워크가 느려서
자주 타임아웃 에러가 나. 90초로 늘리고 싶어.

[평가 요청]
위 템플릿대로 답변해줘.
```

---

## 2️⃣ 단계별 구현 가이드 프롬프트

### 🎯 용도
복잡도 평가에서 🟢 LOW 또는 🟡 MEDIUM으로 판정되어 직접 수정할 때 사용

### 📝 프롬프트 템플릿

```
[Context 파일들]
@CLAUDE.md
@EXAMPLES.md
@[수정할_파일.py]

아래 수정을 단계별로 안내해줘.
한 단계씩 진행하고, 각 단계마다 내가 확인하면 다음 단계로 넘어가자.

[수정 내용]
[구체적인 수정 사항]

[요청 사항]
각 단계마다 다음을 포함해줘:
1. **무엇을 할 것인가** (설명)
2. **어떻게 할 것인가** (구체적인 방법)
   - 수정 전 코드 (찾는 방법)
   - 수정 후 코드
   - 왜 이렇게 수정하는지 (이유)
3. **테스트 방법** (검증 방법)
4. **되돌리는 방법** (실패 시 rollback)

[중요]
- 절대 여러 단계를 한 번에 진행하지 마
- 각 단계 완료 후 "완료"라고 답하면 다음 단계 진행
- 에러가 나면 바로 알려줄게
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@EXAMPLES.md
@02.ENH/pd/pd.py

아래 수정을 단계별로 안내해줘.

[수정 내용]
"Add to Cart" 버튼 클래스가 .cta-add-cart에서 .cta-add-cart-v2로 변경됨.
코드에서 이 선택자를 찾아서 바꾸고 싶어.

[요청 사항]
위 템플릿대로 단계별로 진행하자.
첫 번째 단계부터 시작해줘.
```

---

## 3️⃣ CSS 선택자 찾기 및 검증 프롬프트

### 🎯 용도
웹사이트 변경으로 CSS 선택자를 수정해야 할 때

### 📝 프롬프트 템플릿

```
[Context 파일들]
@CLAUDE.md
@[수정할_파일.py]

웹사이트 요소의 CSS 선택자를 찾고 코드를 수정하고 싶어.

[현재 상황]
- 브라우저에서 찾은 요소: [설명 또는 스크린샷]
- 새 CSS 선택자: [브라우저 개발자도구에서 복사한 선택자]
- 기존에 작동하던 선택자: [모르면 "모름"]

[요청]
1. 코드에서 이 선택자를 사용하는 모든 위치를 찾아줘
2. 각 위치의 목적을 설명해줘
3. 어떻게 수정하면 되는지 알려줘
4. 새 선택자가 적절한지 검증하는 방법도 알려줘
   (브라우저 콘솔에서 확인하는 방법)

[주의사항]
- 선택자가 여러 요소를 가리키면 안 돼
- 페이지 로딩 후에도 존재해야 해
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@02.ENH/pd/pd.py

웹사이트 요소의 CSS 선택자를 찾고 코드를 수정하고 싶어.

[현재 상황]
- 브라우저에서 찾은 요소: "Add to Cart" 버튼
- 새 CSS 선택자: .pd-cta-add-cart-new
- 기존에 작동하던 선택자: 모름 (코드에서 찾아줘)

[요청]
위 템플릿대로 진행해줘.
특히 브라우저 콘솔에서 검증하는 방법을 자세히 알려줘.
```

---

## 4️⃣ 코드 리뷰 요청 프롬프트

### 🎯 용도
수정을 완료했거나 AI가 제안한 코드를 적용하기 전 검증할 때

### 📝 프롬프트 템플릿

```
[Context 파일들]
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md
@[수정한_파일.py]

내가 아래와 같이 코드를 수정했어. 리뷰해줘.

[수정 내용]
--- 수정 전 ---
[원래 코드]

--- 수정 후 ---
[바뀐 코드]

[리뷰 요청 사항]
1. **문법 오류**: 있는지 확인해줘
2. **기존 기능 영향**: 다른 부분에 영향을 줄 수 있는지
3. **에러 처리**: 빠진 예외 처리가 있는지
4. **성능**: 너무 느려지거나 문제가 될 부분
5. **테스트 체크리스트**: 어떤 케이스들을 테스트해야 하는지
6. **개선 제안**: 더 나은 방법이 있다면

[특히 확인해줘]
- [특별히 걱정되는 부분이 있다면 명시]

[최종 질문]
이 코드를 적용해도 안전할까? 아니면 개발자 리뷰가 필요할까?
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@02.ENH/pf/main.py

내가 아래와 같이 코드를 수정했어. 리뷰해줘.

[수정 내용]
--- 수정 전 ---
filter_result = await validate_filter(page)
result['filter_validate'] = filter_result['success']

--- 수정 후 ---
skip_sites = ['BR', 'ZA']
if site_code in skip_sites:
    result['filter_validate'] = True
    result['filter_validate_desc'] = f"Skipped for {site_code}"
else:
    filter_result = await validate_filter(page)
    result['filter_validate'] = filter_result['success']

[리뷰 요청 사항]
위 템플릿대로 리뷰해줘.

[특히 확인해줘]
- skip_sites 리스트를 함수 안에 두는 게 맞을까?
- desc 메시지 형식이 적절한지

[최종 질문]
이 코드를 적용해도 안전할까?
```

---

## 5️⃣ 에러 해결 프롬프트

### 🎯 용도
코드 실행 중 에러가 발생했을 때

### 📝 프롬프트 템플릿

```
[Context 파일들]
@CLAUDE.md
@[에러가_발생한_파일.py]

코드 실행 중 에러가 발생했어. 도와줘.

[에러 메시지]
[전체 에러 메시지를 복사해서 붙여넣기]

[발생 상황]
- 어떤 작업 중: [예: 타임아웃 값 변경 후 테스트 실행]
- 마지막으로 수정한 내용: [수정 사항]
- 에러 발생 시점: [언제 에러가 났는지]

[요청]
1. **에러 의미**: 이 에러가 무슨 뜻인지 쉽게 설명해줘
2. **원인**: 왜 발생했는지 (가능성 높은 순서대로)
3. **해결 방법**: 단계별로 알려줘
   - 가장 간단한 해결책부터
   - 각 해결책 시도 후 확인 방법
4. **예방**: 다음에는 어떻게 방지할 수 있는지

[만약 해결 안 되면]
개발자에게 전달할 정보를 정리해줘.
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@01.smartThings/smartThings_main.py

코드 실행 중 에러가 발생했어. 도와줘.

[에러 메시지]
Traceback (most recent call last):
  File "smartThings_main.py", line 193, in <module>
    await data_collect.wait_for_responses(timeout=90)
                                           ^
SyntaxError: invalid syntax

[발생 상황]
- 어떤 작업 중: 타임아웃을 60에서 90으로 변경 후 실행
- 마지막으로 수정한 내용: timeout=60을 timeout=90으로 변경
- 에러 발생 시점: 파일 실행 직후

[요청]
위 템플릿대로 도와줘.
```

---

## 6️⃣ 프롬프트 수정 프롬프트 (smartthings-logic 전용)

### 🎯 용도
smartthings-logic 프로젝트의 .md 프롬프트 파일을 수정할 때

### 📝 프롬프트 템플릿

```
[Context 파일들]
@02.ENH/smartthings-logic/prompt/story_prompt.md
@02.ENH/smartthings-logic/data/account.csv
@02.ENH/smartthings-logic/data/story.csv

이 프롬프트를 개선하고 싶어.

[현재 문제]
[어떤 부분이 문제인지 또는 개선하고 싶은 부분]

예시:
- LLM이 특정 조건을 자주 놓침
- 설명이 불명확해서 결과가 일관되지 않음
- 새로운 조건을 추가하고 싶음

[요청 사항]
1. 현재 프롬프트에서 해당 부분 찾기
2. 어떻게 개선하면 좋을지 제안
3. 수정된 프롬프트 보여주기
4. 개선 효과 예상 (어떻게 나아질지)

[주의사항]
- 기존 로직은 유지하면서 명확성만 개선
- 예시를 추가하면 더 좋음
```

### ✅ 좋은 사용 예시

```
@02.ENH/smartthings-logic/prompt/story_prompt.md
@02.ENH/smartthings-logic/data/account.csv

이 프롬프트를 개선하고 싶어.

[현재 문제]
"완벽 매칭" 조건이 무엇인지 LLM이 헷갈려하는 것 같아.
때때로 부분 매칭도 완벽 매칭으로 판단함.

[요청 사항]
완벽 매칭의 정의를 더 명확하게 설명하고,
예시를 추가해서 LLM이 혼동하지 않도록 개선해줘.
```

---

## 7️⃣ 문서 이해 확인 프롬프트

### 🎯 용도
CLAUDE.md나 다른 문서를 읽고 제대로 이해했는지 확인할 때

### 📝 프롬프트 템플릿

```
[Context 파일]
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md

나는 비개발자인데 이 프로젝트를 이해하려고 해.
문서를 읽었는데 몇 가지 질문이 있어.

[질문들]
1. [질문 1]
2. [질문 2]
3. [질문 3]

각 질문에 대해:
- 쉬운 말로 설명해줘 (비개발자가 이해할 수 있게)
- 실제 예시를 들어줘
- 관련된 파일이 있다면 알려줘

[추가 요청]
이 프로젝트에서 내가 쉽게 수정할 수 있는 것 3가지와
절대 건드리면 안 되는 것 3가지를 알려줘.
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md

나는 비개발자인데 이 프로젝트를 이해하려고 해.
문서를 읽었는데 몇 가지 질문이 있어.

[질문들]
1. async/await가 뭔지 잘 모르겠어. 왜 위험한 거야?
2. CSS 선택자는 어떻게 찾는 거야?
3. Git commit은 왜 자주 해야 해?

위 템플릿대로 답변해줘.
```

---

## 8️⃣ 테스트 계획 수립 프롬프트

### 🎯 용도
수정 후 어떻게 테스트해야 할지 계획이 필요할 때

### 📝 프롬프트 템플릿

```
[Context 파일]
@CLAUDE.md
@TESTING-CHECKLIST.md
@[수정한_파일.py]

아래 수정을 완료했어. 테스트 계획을 세워줘.

[수정 내용]
[무엇을 수정했는지]

[테스트 계획 요청]
다음을 포함해서 단계별 테스트 계획을 만들어줘:

1. **문법 검증**: 명령어
2. **최소 테스트**: 1개 항목으로 빠르게 확인
3. **정상 케이스**: 일반적인 경우
4. **엣지 케이스**: 특수한 경우들
   - [수정 내용에 따라 예상되는 엣지 케이스]
5. **회귀 테스트**: 기존 기능이 깨지지 않았는지
6. **성공 기준**: 무엇을 확인하면 성공인지

각 테스트마다:
- 어떻게 실행하는지 (명령어)
- 무엇을 확인해야 하는지
- 성공/실패 판단 기준
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@TESTING-CHECKLIST.md
@02.ENH/pd/pd.py

아래 수정을 완료했어. 테스트 계획을 세워줘.

[수정 내용]
평점 검증 로직에 별 개수 확인 기능 추가.
5점 만점인지 검증하고 점수를 추출함.

[테스트 계획 요청]
위 템플릿대로 테스트 계획 만들어줘.
특히 다양한 평점 형식(4.5/5.0, 4 stars 등)을 어떻게 테스트할지 알려줘.
```

---

## 9️⃣ Rollback (되돌리기) 프롬프트

### 🎯 용도
수정이 잘못되어 원래 상태로 되돌려야 할 때

### 📝 프롬프트 템플릿

```
@CLAUDE.md

수정이 잘못되어서 원래 상태로 되돌리고 싶어.

[상황]
- 수정한 파일: [파일명들]
- 언제 수정했는지: [예: 오늘 오전, 어제 등]
- Git commit 했는지: [예: 수정 전 commit 있음 / 없음]
- 문제 상황: [어떤 문제가 발생했는지]

[요청]
1. Git으로 되돌리는 방법 (단계별)
2. 특정 파일만 되돌리는 방법
3. 완전히 되돌린 후 확인하는 방법
4. 다시 시도할 때 주의할 점

[중요]
실수로 다른 파일까지 되돌리면 안 돼.
각 명령어 실행 전에 확인 방법도 알려줘.
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md

수정이 잘못되어서 원래 상태로 되돌리고 싶어.

[상황]
- 수정한 파일: 02.ENH/pd/pd.py
- 언제 수정했는지: 방금 (10분 전)
- Git commit 했는지: 수정 전에 "변경 전 백업" 메시지로 commit 있음
- 문제 상황: 평점 검증이 모든 페이지에서 실패함

[요청]
위 템플릿대로 안전하게 되돌리는 방법 알려줘.
```

---

## 🔟 개발자에게 도움 요청 프롬프트

### 🎯 용도
AI로 해결이 안 되어 개발자에게 도움을 요청할 때 필요한 정보 정리

### 📝 프롬프트 템플릿

```
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md

이 수정이 너무 복잡해서 개발자에게 도움을 요청하려고 해.
개발자에게 전달할 정보를 정리해줘.

[수정 요청 내용]
[무엇을 하고 싶은지]

[시도한 것들]
1. [시도 1] → [결과]
2. [시도 2] → [결과]

[현재 상황]
- 에러 메시지: [있다면]
- 막힌 부분: [어떤 부분에서 막혔는지]
- 예상했던 것: [어떻게 되길 바랐는지]

[요청]
개발자에게 전달할 내용을 아래 형식으로 정리해줘:

## 개발자 지원 요청

**요청자**: [이름]
**날짜**: [날짜]
**프로젝트**: [프로젝트명]
**우선순위**: High / Medium / Low

### 요청 내용
[한 문장 요약]

### 상세 설명
[구체적인 설명]

### 시도한 방법들
[시도 목록]

### 현재 상태
- Git commit 상태:
- 수정한 파일:
- 에러 로그:

### 첨부 자료
[스크린샷, 로그 파일 등]

### 예상 작업 범위
[AI가 평가한 복잡도 및 이유]
```

### ✅ 좋은 사용 예시

```
@CLAUDE.md
@CHANGE-COMPLEXITY-MATRIX.md

이 수정이 너무 복잡해서 개발자에게 도움을 요청하려고 해.
개발자에게 전달할 정보를 정리해줘.

[수정 요청 내용]
API 응답 순서를 바꿔서 성능을 개선하고 싶음

[시도한 것들]
1. HTML 추출을 API 대기보다 먼저 실행 → 템플릿 변수만 추출됨
2. 순서를 복원하고 API를 병렬로 호출 시도 → 에러 발생

[현재 상황]
- 에러 메시지: "RuntimeError: await wasn't used properly"
- 막힌 부분: async/await 순서를 어떻게 조정해야 할지 모름
- 예상했던 것: 병렬 처리로 더 빠를 줄 알았음

[요청]
위 템플릿대로 개발자 요청서 만들어줘.
```

---

## 💡 프롬프트 작성 팁

### ✅ 좋은 프롬프트의 특징
1. **구체적**: "수정해줘" (X) → "타임아웃을 60초에서 90초로 변경해줘" (O)
2. **맥락 제공**: Context 파일 반드시 포함 (`@CLAUDE.md`)
3. **단계별 요청**: "다 해줘" (X) → "단계별로 진행하자" (O)
4. **예시 포함**: 가능하면 "예를 들어..." 추가
5. **확인 요청**: "이게 맞아?" 같은 확인 질문 포함

### ❌ 피해야 할 프롬프트
1. "코드 고쳐줘" (무엇을 어떻게?)
2. "에러 났어" (에러 메시지는?)
3. "빨리" (급하게 하면 실수함)
4. Context 파일 없이 질문 (AI가 프로젝트 이해 못 함)
5. 한 번에 여러 수정 요청 (하나씩!)

### 🎯 Context 파일 선택 가이드

| 상황 | 필수 Context | 선택 Context |
|------|-------------|-------------|
| 복잡도 평가 | CLAUDE.md, CHANGE-COMPLEXITY-MATRIX.md | PROJECT-CONSTRAINTS.md |
| 코드 수정 | CLAUDE.md, 수정할 파일 | EXAMPLES.md |
| CSS 선택자 | CLAUDE.md, 수정할 파일 | - |
| 에러 해결 | CLAUDE.md, 에러 파일 | EXAMPLES.md |
| 프롬프트 수정 | 프롬프트 .md, 데이터 파일 | - |
| 코드 리뷰 | CLAUDE.md, 수정한 파일 | CHANGE-COMPLEXITY-MATRIX.md |

---

## 📚 AI 도구별 추천 용도

### Cursor
- ✅ 복잡한 코드 수정 (멀티파일 편집)
- ✅ 패턴 찾기 (비슷한 코드 찾아서 일괄 수정)
- ✅ 리팩토링

**장점**: 전체 프로젝트 컨텍스트 이해, 파일 간 이동 쉬움

### Claude (claude.ai)
- ✅ 복잡도 분석 (긴 문서 읽기)
- ✅ 단계별 가이드 (상세한 설명)
- ✅ 개념 이해 (비개발자 친화적 설명)

**장점**: 긴 Context 처리, 자세한 설명, 교육적

### ChatGPT
- ✅ 빠른 질문 (간단한 문법)
- ✅ 에러 메시지 해석
- ✅ 정규식 테스트

**장점**: 빠른 응답, 간결한 답변

---

## 🔄 프롬프트 개선 제안

이 문서의 프롬프트를 사용하면서 더 나은 버전을 발견하면:
1. EXAMPLES.md에 성공 사례로 기록
2. 사용한 프롬프트를 정확히 복사
3. 왜 더 나았는지 설명
4. 월간 회고 시 이 문서에 반영

**함께 개선해 나가는 문서입니다!**
